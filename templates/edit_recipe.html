{% extends 'base.html' %}

{% block title %}Edit Recipe{% endblock %}

{% block content %}
    <h2>Edit Recipe</h2>
    <form method="post">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" value="{{ recipe.title }}" required>

        <label for="instructions">Instructions:</label>
        <textarea id="instructions" name="instructions" required>{{ recipe.instructions }}</textarea>

        <label for="category">Category:</label>
        <input type="text" id="category" name="category" value="{{ category }}" required>

        <h3>Ingredients</h3>
        <div id="ingredients">
            {% for ingredient in ingredients %}
                <div>
                    <input type="text" name="ingredients" value="{{ ingredient.name }}" placeholder="Ingredient" required>
                    <input type="text" name="quantities" value="{{ ingredient.quantity }}" placeholder="Quantity" required>
                </div>
            {% endfor %}
        </div>
        <button type="button" onclick="addIngredient()">Add More Ingredients</button>

        <button type="submit">Update Recipe</button>
    </form>

    <script>
        function addIngredient() {
            const ingredientDiv = document.createElement('div');
            ingredientDiv.innerHTML = '<input type="text" name="ingredients" placeholder="Ingredient" required> <input type="text" name="quantities" placeholder="Quantity" required>';
            document.getElementById('ingredients').appendChild(ingredientDiv);
        }
    </script>
{% endblock %}
